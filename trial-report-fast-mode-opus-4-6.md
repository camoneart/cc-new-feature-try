# Fast Mode（Opus 4.6）試行レポート

## 基本情報

| 項目 | 内容 |
|------|------|
| Issue | #17 |
| 対象機能 | Fast Mode（Opus 4.6 高速出力モード） |
| 導入バージョン | v2.1.36 |
| 試行バージョン | v2.1.39 |
| ステータス | Research Preview |

## 機能概要

Fast Mode は Claude Opus 4.6 の高速設定で、同じモデルを使いながら **2.5倍高速** な出力を実現する。`/fast` コマンドでトグルできる。モデル自体は変わらないため、品質・能力は同等。

## 利用条件

### 必須条件

| 条件 | 詳細 |
|------|------|
| Extra Usage の有効化 | アカウントで追加課金を有効にする必要がある |
| 対応プラン | Pro / Max / Team / Enterprise、または Console API |
| サブスク通常枠 | **使用不可** — Fast Mode は Extra Usage のみで課金される |
| サードパーティクラウド | **非対応** — Bedrock / Vertex AI / Azure Foundry では使えない |
| Teams/Enterprise | 管理者が明示的に有効化する必要がある |

### 重要な仕様

- サブスクリプションの通常レートリミットには**含まれない**
- プランの残り枠があっても、Fast Mode のトークンは**最初の1トークンから Extra Usage として課金**される
- サブスク枠とは完全に分離された別のレートリミットを持つ

## 料金体系

| モード | Input (MTok) | Output (MTok) |
|--------|-------------|---------------|
| Fast Mode（< 200K コンテキスト） | $30 | $150 |
| Fast Mode（> 200K コンテキスト） | $60 | $225 |

- 1M トークン拡張コンテキストウィンドウと互換
- 会話途中で Fast Mode を有効にすると、既存の会話コンテキスト全体にキャッシュなしの入力トークン料金が発生

## 操作方法

### 有効化

- `/fast` + Tab でトグル（CLI）
- `/fast` でトグル（VS Code 拡張）
- `"fastMode": true` をユーザー設定に記述

### UI表示

- 有効時: プロンプト横に `↯` アイコンが表示
- レートリミット到達時: `↯` がグレーアウト（クールダウン中）
- 確認: `/fast` を実行するとON/OFF状態を表示

### 注意点

- Fast Mode をOFFにしても Opus 4.6 のまま（以前のモデルに戻らない）
- モデル切り替えは `/model` を使用

## レートリミット挙動

Fast Mode のレートリミットに到達した場合:

1. 自動的に標準 Opus 4.6 にフォールバック
2. `↯` アイコンがグレーアウト
3. 標準速度・標準料金で作業を継続
4. クールダウン終了後、自動的に Fast Mode が再有効化

## Fast Mode vs Effort Level

| 設定 | 効果 |
|------|------|
| **Fast Mode** | 同じ品質、低レイテンシ、高コスト |
| **低 Effort Level** | 思考時間短縮、高速応答、複雑タスクで品質低下の可能性 |

両方を組み合わせることも可能（単純タスクの最大速度化）。

## 推奨ユースケース

### Fast Mode が向いている場面

- コード変更の高速イテレーション
- ライブデバッグセッション
- 締切の厳しい作業

### 標準モードが向いている場面

- 長時間の自律タスク
- バッチ処理 / CI/CD パイプライン
- コスト重視のワークロード

## 試行結果

### 実際の試行について

Extra Usage の有効化が必要なため、実機での速度比較テストは未実施。本レポートは公式ドキュメントの調査に基づく。

### 実機テスト未実施の理由

- Fast Mode は **サブスクリプション通常枠では利用不可**
- Extra Usage（追加課金）の有効化が前提条件
- 個人のサブスクリプションプランのみでは試行できない

## 所感

- 「同じモデルで高速化」というアプローチは、モデルを切り替える（Sonnet等）のとは根本的に異なる。品質を犠牲にせず速度だけを改善できる点が最大の強み
- ただし、サブスク枠と完全に分離された課金は敷居が高い。通常利用の延長として気軽に試せる設計ではない
- Research Preview の段階なので、今後の料金改定や仕様変更に注目
- レートリミット到達時の自動フォールバック設計は親切。Fast Mode → 標準モード のシームレスな遷移で作業が中断されない
- npm の `package-lock.json` に例えるなら、Fast Mode は「同じパッケージの CDN 配信版」のような位置づけ。中身は同じだが配信速度が違う

## 参考ドキュメント

- [Fast Mode 公式ドキュメント](https://code.claude.com/docs/en/fast-mode)
- [Model Configuration](https://code.claude.com/docs/en/model-config)
- [Manage Costs Effectively](https://code.claude.com/docs/en/costs)
