# /copy コマンド（コードブロックピッカー）試行レポート

## 基本情報

| 項目 | 内容 |
|------|------|
| Issue | #44 |
| 対象機能 | `/copy` コマンド（コードブロックピッカー） |
| 対象バージョン | v2.1.59（v2.1.20で全ユーザーに開放） |
| 試行バージョン | v2.1.59 |

## 機能概要

Claude Code の応答をクリップボードにコピーする `/copy` コマンド。応答内にコードブロックが複数含まれる場合、インタラクティブピッカーが表示され、個別のコードブロックまたはレスポンス全体を選択してコピーできる。

## 動作確認結果

### ケース1: コードブロックなしの応答

テーブルやマークダウンのみの解説応答に対して `/copy` を実行。

**結果**: ピッカーは表示されず、レスポンス全体が即座にコピーされた。

```
Copied to clipboard (1348 characters, 49 lines)
```

### ケース2: 複数コードブロックを含む応答

TypeScript のユーティリティ関数3つ（`shuffle`、`pick`、`sleep`）を含む応答に対して `/copy` を実行。

**結果**: インタラクティブピッカーが表示され、個別のコードブロックを選択してコピーできた。

```
Copied to clipboard (242 characters, 8 lines)
```

`shuffle` 関数のコードブロックのみが正確にコピーされた。

## 挙動まとめ

| 応答の内容 | `/copy` の挙動 |
|-----------|---------------|
| コードブロックなし | レスポンス全体を即座にコピー |
| コードブロック1つ | レスポンス全体を即座にコピー（推定） |
| コードブロック複数 | インタラクティブピッカーを表示し、個別ブロックまたは全体を選択可能 |

## ユースケース

- Claude が複数ファイルのコードを一度に生成した際、特定のファイルのコードだけをコピーしたい場合
- 長い応答の中から必要なコードスニペットだけを素早くクリップボードに取得したい場合
- ターミナル上でのマウス選択が困難な長いコードブロックをコピーする場合

## 所感

- コードブロックなしの場合は全体コピーにフォールバックする設計が直感的で使いやすい
- 複数コードブロック時のピッカーUIにより、マウスでの範囲選択が不要になり作業効率が上がる
- 日常的なClaude Code利用で地味に便利な機能。特に複数ファイルの実装を依頼した際に重宝する
